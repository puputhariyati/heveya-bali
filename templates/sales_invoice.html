<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sales Quote</title>
  <link rel="stylesheet" href="{{url_for('static', filename='sales_invoice.css')}}">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body>
  <div id="invoice">
    <!-- Header -->
    <table style="width: 100%; border-collapse: collapse;">
      <tr>
        <td style="width: 40%; vertical-align: top;">
          <strong>PT HEVEYA KARUNIA ALAM</strong><br>
          Jalan Pantai Berawa No. 17, BADUNG, BALI, 80361<br>
          Phone: 082147638966<br>
          Email: 434893871906000
        </td>
        <td style="width: 30%;">
          <strong>QUOTE #: </strong> {{ quote_no }}<br>
          <label>DATE: <input type="date" id="quote-date" /></label><br /><br />
          <label>EXPIRED DATE: <input type="date" id="quote-expiry" /></label><br /><br />
        </td>
        <td style="width: 30%; text-align: center;">
          <img src="{{ url_for('static', filename='heveya-logo.png') }}" alt="Heveya Logo" style="width: 100px;"><br>
        </td>
      </tr>
    </table>

    <hr>

    <!-- Customer Info -->
    <table style="width: 100%; margin-top: 10px;">
      <tr>
        <td style="width: 50%; vertical-align: top;">
          <strong>CUSTOMER</strong><br>
          <label>NAME: <input type="text" id="client-name" placeholder="Client Name" /></label><br /><br/>
          <label>ADDRESS: <input type="text" id="client-address" placeholder="Client Address" /></label><br /><br/>
          <label>PHONE: <input type="text" id="client-phone" placeholder="Client Phone" /></label>
        </td>
      </tr>
    </table>

    <table class="items-table">
      <thead>
        <tr>
          <th>No.</th>
          <th>Image</th>
          <th>Description</th>
          <th>Qty</th>
          <th>Unit</th>
          <th>Unit Price (IDR)</th>
          <th>Discount</th>
          <th>Amount (IDR)</th>
          <th>Notes</th>
          <th class="internal-only">Full Amount</th>
          <th class="internal-only">Selling Price-PPN</th>
          <th class="internal-only">Total Cost</th>
          <th class="internal-only">Total Cost x Qty</th>
          <th class="internal-only">Abs. Margin</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td><img src="https://via.placeholder.com/60" alt="Mattress"></td>
          <td>Heveya Mattress III - 273x243x31cm</td>
          <td>1</td>
          <td>Pcs</td>
          <td>89.500.000</td>
          <td>10%</td>
          <td>10.000.000</td>
          <td>80.550.000</td>
          <td class="internal-only">60.000.000</td>
          <td class="internal-only">20.550.000</td>
        </tr>
        <tr>
          <td>2</td>
          <td><img src="https://via.placeholder.com/60" alt="Pillow"></td>
          <td>Heveya Pillow - 70x40x14.5cm</td>
          <td>1</td>
          <td>Pcs</td>
          <td>1.800.000</td>
          <td>10%</td>
          <td>200.000</td>
          <td>1.620.000</td>
          <td class="internal-only">1.000.000</td>
          <td class="internal-only">620.000</td>
        </tr>
        
        <!-- Totals Row for Internal View -->
        <tr class="internal-only">
          <td colspan="9" style="text-align: right;"><strong>Totals:</strong></td>
          <td><strong>82.170.000</strong></td> <!-- Full Amount Total -->
          <td><strong>61.000.000</strong></td> <!-- Selling Price-PPN Total -->
          <td><strong>21.170.000</strong></td> <!-- Total Cost -->
          <td><strong>21.170.000</strong></td> <!-- Total Cost x Qty -->
          <td><strong>21.170.000</strong></td> <!-- Abs Margin -->
        </tr>
      </tbody>
    </table>

    <table class="summary">
      <tr><td class="right"><strong>Grand Total (Incl. PPN 11%):</strong></td><td class="right">106.756.757</td></tr>
      <tr><td class="right"><strong>Total Discount:</strong></td><td class="right">16.513.514</td></tr>
      <tr><td class="right"><strong>Deposit 50%:</strong></td><td class="right">10.200.000</td></tr>
    </table>
  </div>

  <div class="button-container">
    <button onclick="downloadPDF()">Download as PDF</button>
    <button onclick="toggleInternal()">Toggle Internal View</button>
  </div>

  <script src="{{ url_for('static', filename='sales_invoice.js') }}"></script>
</body>
</html>
